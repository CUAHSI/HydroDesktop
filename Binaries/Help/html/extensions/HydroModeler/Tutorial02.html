
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial 2: Creating and Running a Model Composition &mdash; HydroDesktop Help</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="HydroDesktop Help" href="../../index.html" />
    <link rel="up" title="HydroModeler" href="HydroModeler.html" />
    <link rel="next" title="Tutorial 3: Creating a New Model Component" href="Tutorial03.html" />
    <link rel="prev" title="Tutorial 1: Quick Start" href="Tutorial01.html" />
    <link media="only screen and (max-device-width: 480px)" href="../../_static/mobile.css" type="text/css" rel="stylesheet" /> 
  </head>
  <body>
<div id="docstitle">
	<a href="http://www.hydrodesktop.org"><img src="../../_static/HDlogo.png" alt="CUAHSI HydroDesktop" height="75px"></a>
</div>
<div id="header">
        <div class="breadcrumb"><a href="../extensions.html" accesskey="U">Extensions</a><img src="../../_static/triangle_closed.png" height="9" width="9" alt="&gt;"></div>
        <div class="breadcrumb"><a href="HydroModeler.html" >HydroModeler</a><img src="../../_static/triangle_closed.png" height="9" width="9" alt="&gt;"></div>
    <div class="breadcrumb">Tutorial 2: Creating and Running a Model Composition</div>
	<div class="pagebutton"><a href="../../genindex.html" title="General Index" accesskey="I">index</a></div>
	<div class="pagebutton"><a href="Tutorial03.html" title="Tutorial 3: Creating a New Model Component" accesskey="N">next</a></div>
	<div class="pagebutton"><a href="Tutorial01.html" title="Tutorial 1: Quick Start" accesskey="P">previous</a></div>
</div>

<div id="sphinxsidebar">
  <div class="sphinxsidebarwrapper">
	<ul><li class="toctree-l1"><a href="../../welcome.html">Welcome</a></li></ul>
	<ul>
<li class="toctree-l1"><a class="reference internal" href="../../general-concepts.html">General Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extensions.html">Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide-books.html">Guide Books</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../version-history.html">Version History</a></li>
</ul>

    <div id="searchbox" style="display: none">
      
        <form class="search" action="../../search.html" method="get">
			<div class="search-wrapper">
			<span class="search-left"></span>
			<input class="prettysearch" type="text" name="q" size="18" />
			<span class="search-right">&nbsp;</span>
			</div>
          <input type="submit" value="Search" class="searchbutton" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
        <p class="searchtip" style="font-size: 90%">
        Enter search terms.
        </p>
    </div>
    <script type="text/javascript">$('#searchbox').show(0);</script>
  </div>
</div>



    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial-2-creating-and-running-a-model-composition">
<span id="index-0"></span><h1>Tutorial 2: Creating and Running a Model Composition<a class="headerlink" href="#tutorial-2-creating-and-running-a-model-composition" title="Permalink to this headline">¶</a></h1>
<p>The purpose of creating a model composite is to link the components that  are already created so they can exchange data in between and finally
you get the final product of the project. In this demonstration, we will be create example configuration 4.</p>
<div class="section" id="example-4-structure">
<h2>Example 4 structure<a class="headerlink" href="#example-4-structure" title="Permalink to this headline">¶</a></h2>
<p>..In this exercise we are interested in calculating the runoff (mm/day) using TopModel component for watershed number 18 in cowetta watershed.
TopModel component needs an ascii raster contain the Topographic index of each pixel in the watershed, model parameter, and  two input exchange items changing with every time step. First, daily precipitation rate (mm) which is obtained from the Db reader, Second, The daily
evapotranspiration rate (mm/day) which is obtained from Hargreaves component. The evapotranspiration rate depends on three input  exchange
values (maximum temperature, minimum temperature, temperature), The Db reader connect the stored data of watershed 18 and offer the
temperature variables as an input exchange item for the Hargreaves component, and the precipitation rate for the TopModel component. Finally
the TopModel needs to be connected with a trigger to start the calculation at every time step (day),and the Db writer component to store the runoff
value to data base. The stored runoff can be plotted as a time series using hydrodesktop graph.</p>
</div>
<div class="section" id="procedures-of-creating-a-model-composition">
<h2>Procedures of creating a Model Composition<a class="headerlink" href="#procedures-of-creating-a-model-composition" title="Permalink to this headline">¶</a></h2>
<p>1-      Open the start menu and from program choose the CAUHSI HIS, then press hydrodesktop icon.</p>
<div class="figure align-center">
<img alt="extensions\HydroModeler\images\Totorial02\Hydrodesktop_start.png" src="extensions\HydroModeler\images\Totorial02\Hydrodesktop_start.png" />
</div>
<p>2-      check that you have the latest version of hydrodesktop by comparing the version number  of the CUAHSI Hydro Desktop you have and the latest available on  <a class="reference external" href="http://hydrodesktop.codeplex.com/releases/view/59853">http://hydrodesktop.codeplex.com/releases/view/59853</a>   ( ex; Hydro Desktop version is 1.2537.0). Choose Create New Empty Project button.</p>
<div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\newproject.png" src="extensions\HydroModeler\images\Totorial02\newproject.png" />
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>3-      Load the HydroModeler plugin by selecting the icon in the upper left corner of the screen - Extensions - HydroModeler</p>
<div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\extensions.png" src="extensions\HydroModeler\images\Totorial02\extensions.png" />
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>4-      Navigate to C:HydrodesktopInstallerHydroModeler_example_configurationsexample_configuration_04modelsTOPMODEL.</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\CurrentDirectory.png" src="extensions\HydroModeler\images\Totorial02\CurrentDirectory.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>5-      Edit the Topmodel.omi and be sure that the TopModel.Linkable_Component&#8221; Assembly  is pointing relatively toward the right TopModel.dll file of the model. check the path of both the input TI_raster,configuration file.xml, and revise the values of the input model parameters</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\TopModel.omi.png" src="extensions\HydroModeler\images\Totorial02\TopModel.omi.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>6-      Follow the same procedures to be sure that  the Hargreaves, Db reader, Dbwriter omi files are  pointing toward the right .dll file.</p>
<dl class="docutils">
<dt>7-      Right click on the HydroModeler workspace and select Add Model.</dt>
<dd><div class="first last figure">
<img alt="extensions\HydroModeler\images\Totorial02\ModelAdding.png" src="extensions\HydroModeler\images\Totorial02\ModelAdding.png" />
</div>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>8-       Navigate to C:HydrodesktopInstallerHydroModeler_example_configurationsexample_configuration_04models and add all two models (TopModel-Hargreaves). Also add the DbReader and DbWriter components from C:HydrodesktopInstallerHydroModeler_example_configurationsexample_configuration_04Datacuahsi-his. now all the models should be added to the HydroModeler workspace. Right click in the HydroModeler workspace and select Add Trigger. A Trigger starts the simulation by invoking the action GetValues on the model at a specified time.</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\Component.png" src="extensions\HydroModeler\images\Totorial02\Component.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>9-      From the top bar choose table and press change button to define the path for the SQlite database file, navigate to C:HydrodesktopInstallerHydroModeler_example_configurationsexample_configuration_04Datacuahsi-his and select weather Data repository</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\table.png" src="extensions\HydroModeler\images\Totorial02\table.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>10-     return back to the HydroModeler tab. Right click in the HydroModeler workspace and select Add Connection. Next, click on the DbReader to assign it as the source component and then click on the Hargreaves to assign as a target component.</p>
<p>11-     Click on the arrow mark to open a connection properties window. Define the output exchange item that will be supplied as an input exchange item.  check the (+) mark for Temperature  of the Dbreader Output Exchange Items to show the three exchanging Temperature items,  check Coweeta max Temperature box and Hargreaves PET Max Temp box, and then press apply to activate the link. Repeat for all links.</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\Dbconnection.png" src="extensions\HydroModeler\images\Totorial02\Dbconnection.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>12-     Connect the Dbreader to the TopModel to supply the TopModel with the precipitation data of Coweeta watershed. choose Dbreader as a source and TopModel as a target component.</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\Db-TopModel.png" src="extensions\HydroModeler\images\Totorial02\Db-TopModel.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>13-     Connect the Hargreaves PET as a source component to supply the daily calculated PET  to TopModel component.</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\hargreaves-TopModel.png" src="extensions\HydroModeler\images\Totorial02\hargreaves-TopModel.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>14-     Link the TopModel Component as a source to the Db Writer to store the output data (daily runoff hydrograph).</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\DbWriter-TopModel.png" src="extensions\HydroModeler\images\Totorial02\DbWriter-TopModel.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>15-     Link the TopModel as a source component to the trigger</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\TopModel-Trigger.png" src="extensions\HydroModeler\images\Totorial02\TopModel-Trigger.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>16-     Right click in the HydroModeler workspace and select Run.</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\run.png" src="extensions\HydroModeler\images\Totorial02\run.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
<p>17-     Select Set all within Events listened during calculation, click Latest overlapping to determine the simulation end time, and finally click RUN!!</p>
<blockquote>
<div><div class="figure">
<img alt="extensions\HydroModeler\images\Totorial02\runsetup.png" src="extensions\HydroModeler\images\Totorial02\runsetup.png" />
</div>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">align:</th><td class="field-body">center</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div> 
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer"><p>
      &nbsp;&copy; Copyright 2010, Consortium of Universities for the Advancement of Hydrologic Science, Inc.&nbsp;
      &nbsp;Last updated on Jun 14, 2011.&nbsp;
      &nbsp;Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.&nbsp;
    </p></div>
    <script type="text/javascript" charset="utf-8" src="../../_static/toc.js"></script>
  </body>
</html>